[{"id":"dc429fbd.380f9","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"8fb980b3.1d7608","type":"tab","label":"temp","disabled":false,"info":""},{"id":"e9cabb74.fe91","type":"tab","label":"OL Connect API","disabled":false,"info":""},{"id":"ceb2a62a.6f45f8","type":"tab","label":"Flow 2"},{"id":"51790cbc.40d12c","type":"tab","label":"System"},{"id":"9d046ee7.fd5b38","type":"ui_base","theme":{"name":"theme-light","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#0094CE","value":"#0094CE","edited":false},"page-titlebar-backgroundColor":{"value":"#0094CE","edited":false},"page-backgroundColor":{"value":"#fafafa","edited":false},"page-sidebar-backgroundColor":{"value":"#ffffff","edited":false},"group-textColor":{"value":"#1bbfff","edited":false},"group-borderColor":{"value":"#ffffff","edited":false},"group-backgroundColor":{"value":"#ffffff","edited":false},"widget-textColor":{"value":"#111111","edited":false},"widget-backgroundColor":{"value":"#0094ce","edited":false},"widget-borderColor":{"value":"#ffffff","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"false","lockMenu":"false","allowTempTheme":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"676f881a.2970e","type":"mongodb-config","z":"","hostname":"127.0.0.1","port":"27017","db":"Test","name":"Test database"},{"id":"ba23399f.6256c8","type":"olc-server","z":"","host":"localhost","port":"9340","username":"ol-admin","password":"secret","name":"My Dev Server"},{"id":"93ad53ce.0a9168","type":"olc-server","z":"","host":"localhost","port":"9340","username":"ol-admin","password":"secret","name":"My Dev Server"},{"id":"793172d6.403c04","type":"ui_group","z":"","name":"Last refresh","tab":"31f79a51.af9836","disp":true,"width":"12","collapse":false},{"id":"31f79a51.af9836","type":"ui_tab","z":"","name":"Home","icon":"dashboard","order":1,"disabled":false,"hidden":false},{"id":"eca3b0d4.5b7868","type":"ui_group","z":"","name":"Group 1","tab":"33273e47.bcd172","order":1,"disp":false,"width":"6"},{"id":"33273e47.bcd172","type":"ui_tab","z":"","name":"switch test","icon":"dashboard","order":3},{"id":"396b7d79.834f92","type":"ui_group","z":"","name":"CPU Load","tab":"377f01b7.8869de","order":2,"disp":true,"width":"6"},{"id":"8378d78.5c46728","type":"ui_group","z":"","name":"Memory","tab":"377f01b7.8869de","order":3,"disp":true,"width":"6"},{"id":"56329cc.047c7e4","type":"ui_group","z":"","name":"System Information","tab":"377f01b7.8869de","order":1,"disp":true,"width":"6"},{"id":"377f01b7.8869de","type":"ui_tab","z":"","name":"System","icon":"computer"},{"id":"24ff660a.29feda","type":"ui_group","z":"","name":"System Information","tab":"377f01b7.8869de","order":1,"disp":true,"width":"8","collapse":true},{"id":"ecfbd287.bb2578","type":"ui_group","z":"","name":"CPU Status","tab":"","order":2,"disp":true,"width":"8","collapse":true},{"id":"db5658b7.cb508","type":"ui_group","z":"","name":"Memory Status","tab":"","order":3,"disp":true,"width":"8","collapse":true},{"id":"3ba15494.63a03c","type":"inject","z":"dc429fbd.380f9","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":140,"y":60,"wires":[[]]},{"id":"545708fe.46d87","type":"mongodb-node","z":"dc429fbd.380f9","mongodb":"676f881a.2970e","name":"store","collection":"gemalto","operation":"insert","upsert":false,"multi":false,"x":710,"y":200,"wires":[["29d49e12.e162ba"]]},{"id":"d510e6ca.8c1598","type":"inject","z":"dc429fbd.380f9","name":"","topic":"","payload":"{ \"test\" : {\"$exists\" : true}}","payloadType":"json","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":150,"y":100,"wires":[[]]},{"id":"c30966c1.6a8c7","type":"mongodb-node","z":"dc429fbd.380f9","mongodb":"676f881a.2970e","name":"retrieve","collection":"gemalto","operation":"find","upsert":false,"multi":false,"x":720,"y":240,"wires":[["29d49e12.e162ba"]]},{"id":"1572bc43.2a433c","type":"http in","z":"dc429fbd.380f9","name":"web request","url":"/test/:uid/:action","method":"get","upload":false,"swaggerDoc":"","x":130,"y":240,"wires":[["62f71431.39ee74","c08ac792.297d6"]]},{"id":"29d49e12.e162ba","type":"http response","z":"dc429fbd.380f9","name":"Return","statusCode":"","headers":{},"x":910,"y":220,"wires":[]},{"id":"62f71431.39ee74","type":"debug","z":"dc429fbd.380f9","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":270,"y":340,"wires":[]},{"id":"2d7cf906.16a276","type":"function","z":"dc429fbd.380f9","name":"Set value to store","func":"var value = msg.payload.value;\nmsg.payload = msg.req.params;\nmsg.payload.value = value;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":200,"wires":[["545708fe.46d87"]]},{"id":"c08ac792.297d6","type":"switch","z":"dc429fbd.380f9","name":"","property":"req.params.action","propertyType":"msg","rules":[{"t":"eq","v":"store","vt":"str"},{"t":"eq","v":"retrieve","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":310,"y":240,"wires":[["2d7cf906.16a276"],["f24ed60d.7511c8"]]},{"id":"f24ed60d.7511c8","type":"function","z":"dc429fbd.380f9","name":"set message","func":"msg.payload = { \"uid\" : msg.req.params.uid};\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":240,"wires":[["c30966c1.6a8c7"]]},{"id":"4286bad3.2dabdc","type":"http response","z":"dc429fbd.380f9","name":"","statusCode":"","headers":{},"x":510,"y":480,"wires":[]},{"id":"4b11f357.2e49f4","type":"http in","z":"dc429fbd.380f9","name":"gemalto test","url":"/gemalto","method":"post","upload":false,"swaggerDoc":"","x":130,"y":480,"wires":[["62f71431.39ee74","15831406.8851ac"]]},{"id":"15831406.8851ac","type":"function","z":"dc429fbd.380f9","name":"reponse","func":"msg.payload = {\"gemalto\" : true};\nreturn msg;","outputs":1,"noerr":0,"x":320,"y":480,"wires":[["4286bad3.2dabdc"]]},{"id":"82d2a688.93a028","type":"http request","z":"e9cabb74.fe91","name":"Upload File to FileStore","method":"POST","ret":"txt","paytoqs":false,"url":"http://localhost:9340/rest/serverengine/filestore/{{{path}}}?filename={{{file}}}&persistent=true","tls":"","persist":false,"proxy":"","authType":"basic","x":870,"y":340,"wires":[["b0bf0f07.8dba3"]]},{"id":"e3c13718.275ff","type":"inject","z":"e9cabb74.fe91","name":"Template","topic":"","payload":"C:\\red\\olc-resource-uploads\\Superhero-card.OL-template","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":220,"y":560,"wires":[["fcbd44df.bd55e"]]},{"id":"24fedeca.f00e0a","type":"file in","z":"e9cabb74.fe91","name":"Read file","filename":"","format":"","chunk":false,"sendError":true,"encoding":"binary","x":560,"y":340,"wires":[["3d994ab3.d053de"]]},{"id":"fcbd44df.bd55e","type":"change","z":"e9cabb74.fe91","name":"Set Filename","rules":[{"t":"set","p":"filename","pt":"msg","to":"payload","tot":"msg"},{"t":"set","p":"payload","pt":"msg","to":"","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":450,"y":440,"wires":[["24fedeca.f00e0a"]]},{"id":"3d994ab3.d053de","type":"function","z":"e9cabb74.fe91","name":"Get Extension","func":"// Extract the file extension and name of the resource.\nmsg.file = encodeURIComponent( msg.filename.split('\\\\').pop() );\nmsg.ext = msg.file.split('.').pop();\n\nlet myError = false;\n\nswitch(msg.ext)\n{\n    case 'OL-template':\n        msg.path = 'template';\n        break;\n    case 'OL-datamapper':\n        msg.path = 'DataMiningConfig';\n        break;\n    case 'OL-jobpreset':\n        msg.path = 'JobCreationConfig';\n        break;\n    case 'OL-outputpreset':\n        msg.path = 'OutputCreationConfig';\n        break;\n    default:\n        myError = true;\n}\n\nif (false === myError ) {\n    return [ msg, null ];\n} else {\n    msg.payload = null;\n    return [ null, msg ];\n}","outputs":2,"noerr":0,"x":660,"y":400,"wires":[["82d2a688.93a028"],["c884120c.7f42b8"]]},{"id":"b1b664e0.8e99d8","type":"debug","z":"e9cabb74.fe91","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":1150,"y":280,"wires":[]},{"id":"d895633e.101128","type":"comment","z":"e9cabb74.fe91","name":"----------------------------- Upload resources to the Connect File Store --------------------------------------------------","info":"asdfasdf","x":530,"y":140,"wires":[]},{"id":"b9f01478.54b1b","type":"inject","z":"e9cabb74.fe91","name":"CSV (error case)","topic":"","payload":"C:\\red\\olc-resource-uploads\\us-500.csv","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":240,"y":600,"wires":[["fcbd44df.bd55e"]]},{"id":"34a5c252.495e5e","type":"comment","z":"e9cabb74.fe91","name":"---------------- Basic test ----------------------","info":"asdfasdf","x":300,"y":520,"wires":[]},{"id":"b839263d.9b93a","type":"change","z":"e9cabb74.fe91","name":"Set Filename","rules":[{"t":"set","p":"filename","pt":"msg","to":"payload.filePath","tot":"msg"},{"t":"set","p":"payload","pt":"msg","to":"","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":450,"y":280,"wires":[["24fedeca.f00e0a"]]},{"id":"c884120c.7f42b8","type":"debug","z":"e9cabb74.fe91","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload.filename","targetType":"msg","x":860,"y":440,"wires":[]},{"id":"f1143a9a.d9f09","type":"folder-capture","z":"e9cabb74.fe91","folder":"C:\\\\red\\\\upload","name":"Upload","x":210,"y":280,"wires":[["955fdca2.f9d78"]]},{"id":"955fdca2.f9d78","type":"switch","z":"e9cabb74.fe91","name":"create or update only","property":"changetype","propertyType":"msg","rules":[{"t":"eq","v":"create","vt":"str"},{"t":"eq","v":"update","vt":"str"},{"t":"eq","v":"delete","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":340,"y":200,"wires":[["b839263d.9b93a"],["b839263d.9b93a"],[]]},{"id":"e08a3881.c6fb88","type":"base64","z":"e9cabb74.fe91","name":"","action":"","property":"payload","x":1340,"y":860,"wires":[["a72c5cdc.fede4"]]},{"id":"e4014e2c.a36f8","type":"comment","z":"8fb980b3.1d7608","name":"Convert csv to json","info":"{\"RECORD\":\"000001\",\"CO\":\"F1657508.dc9\",\"LAYER\":\"DLY_DE_FR_00205_DUP.dot\",\"WCP\":3,\"CPF\":1,\"EMB4\":\"CARD 6703 7965 1141 6000 5 N5   \",\"UFM01\":\"MONSIEUR                043802\",\"UFM02\":\"CO COSSE BENOIT               \",\"UFM03\":\"RUE JACQUET             87    \",\"UFM04\":\"5580  ROCHEFORT               \",\"UFM07\":\"26 novembre 2019\",\"UFM11\":\"        BP/PB 1736    1000 BRU\",\"UFM95\":\"DC01047F74A5\",\"UFM99\":\"JJBEA129882005330352933\",\"UFM100\":\"|JJBEA129882005330352933ï¿½~ \",\"UFM901\":\"TBDTBD\",\"UFM902\":\"59995D1D5991D\"}\n","x":230,"y":100,"wires":[]},{"id":"86e81ca8.e697a","type":"inject","z":"8fb980b3.1d7608","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":140,"y":140,"wires":[["c845fcb0.7a5d48"]]},{"id":"c845fcb0.7a5d48","type":"file in","z":"8fb980b3.1d7608","name":"","filename":"C:/red/1_19112703_F1657508.MAI","format":"utf8","chunk":false,"sendError":false,"encoding":"none","x":300,"y":220,"wires":[["e340ed9.2245c1"]]},{"id":"fdf0f1f6.2d682","type":"csv","z":"8fb980b3.1d7608","name":"","sep":";","hdrin":true,"hdrout":"","multi":"one","ret":"\\n","temp":"","skip":"0","strings":true,"x":550,"y":220,"wires":[["488489d1.78149"]]},{"id":"488489d1.78149","type":"debug","z":"8fb980b3.1d7608","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":710,"y":220,"wires":[]},{"id":"e340ed9.2245c1","type":"function","z":"8fb980b3.1d7608","name":"Get rid of linebreak inside double quote","func":"//Fix: if there are any line breaks in between column values, then that column value will be wrapped in double quotes\n//first get all the double quoted values list using regex\nvar lineBreakList = msg.payload.match(/([\"'])(\\\\?)[\\s\\S]*?\\1/g);\n//search for line breaks using regex, if found replace it with empty value\nlineBreakList.forEach(function (item) {\n    msg.payload = msg.payload.replace(item, item.replace(/\\r?\\n|\\r/g, '<br \\/>'));\n});\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":260,"wires":[["fdf0f1f6.2d682"]]},{"id":"b0bf0f07.8dba3","type":"switch","z":"e9cabb74.fe91","name":"status code","property":"statusCode","propertyType":"msg","rules":[{"t":"eq","v":"200","vt":"num"},{"t":"neq","v":"200","vt":"num"}],"checkall":"true","repair":false,"outputs":2,"x":964,"y":281,"wires":[["eb0ae8da.5c91b"],["b1b664e0.8e99d8"]]},{"id":"eb0ae8da.5c91b","type":"debug","z":"e9cabb74.fe91","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1170,"y":220,"wires":[]},{"id":"e3766387.db7f2","type":"http in","z":"e9cabb74.fe91","name":"","url":"/newrefreshback","method":"post","upload":false,"swaggerDoc":"","x":280,"y":780,"wires":[["300ee8a5.61991","b0cb9f93.2caeb"]],"info":"Example: http://127.0.0.1:1880/pod/render/site/dashboard\n\n/:solution/:verb/:template/:section\n\nMaps to\nmsg.req.params.solution\nmsg.req.params.verb\nmsg.req.params.template\nmsg.req.params.section"},{"id":"300ee8a5.61991","type":"function","z":"e9cabb74.fe91","name":"set variable","func":"msg.payload = \n{ data : \n    {\n        \"WPdata\" : msg.payload.json,\n        \"RECORD\": \"000001\",\n        \"CO\": \"F1657508.dc9\",\n        \"LAYER\": \"DLY_DE_FR_00205_DUP.dot\",\n        \"WCP\": 3,\n        \"CPF\": 1,\n        \"EMB4\": \"CARD 6703 7965 1141 6000 5 N5   \",\n        \"UFM01\": \"MONSIEUR                043802\",\n        \"UFM02\": \"CO COSSE BENOIT               \",\n        \"UFM03\": \"RUE JACQUET             87    \",\n        \"UFM04\": \"5580  ROCHEFORT               \",\n        \"UFM07\": \"26 novembre 2019\",\n        \"UFM11\": \"        BP/PB 1736    1000 BRU\",\n        \"UFM95\": \"DC01047F74A5\",\n        \"UFM99\": \"JJBEA129882005330352933\",\n        \"UFM100\": \"|JJBEA129882005330352933 \",\n        \"UFM901\": \"TBDTBD\",\n        \"UFM902\": \"59995D1D5991D<br />5B60998D1B5DC<br />F0D5B77B40AFC<br />F10D285B7FEA9<br />7D281B8FE0D18<br />F82B9FC343349<br />F03A8132DDF59<br />521B585F5BCC8<br />79ACF3B0F0A5D<br />70B3264C4F2C9<br />76D06212B6BFC<br />DE9B64235F81C<br />DECCECEFEECCD<br />\",\n        \"UFM912\": \"0000TBDTBDDC01047F74A51110000100001000AA055\",\n        \"UFM903\": \"00001\",\n        \"UFM904\": \"000AA055\",\n        \"LABEL\": \"N\",\n        \"NFO1\": \"0000TBDTBDDC01047F74A5111\",\n        \"SQN\": \"000001#END##LABEL#N#END##SORT#003985#END##STDFIELDSTARTCODE##END##UFM01#MONSIEUR                043802#END##UFM02#CO COSSE BENOIT               #END##UFM03#RUE JACQUET             87    #END##UFM04#5580  ROCHEFORT               #END##UFM07#26 novembre 2019#END##UFM10##END##UFM11#        BP/PB 1736    1000 BRU#END##UFM95#DC01047F74A5#END##UFM99#JJBEA129882005330352933#END##UFM100#|JJBEA129882005330352933\",\n        \"PCD\": \"BREDA_BELFIUS_110219\",\n        \"PFT\": \"PS\",\n        \"PCT\": \"BREDA_BELFIUS_130619\",\n        \"PCO\": 2,\n        \"PCP\": \"PResConnect\"\n    },\nformat : \"png\",\npages : msg.payload.page \n};\nmsg.template = encodeURIComponent(\"Duplex.OL-template\");\nmsg.page = msg.payload.data.pages;\nmsg.format = msg.payload.format;\nmsg.topic = 'refreshback';\nreturn msg;\n","outputs":1,"noerr":0,"x":590,"y":780,"wires":[["6e4db292.5c1a44","f586aea4.ec4ca8"]]},{"id":"6e4db292.5c1a44","type":"http request","z":"e9cabb74.fe91","name":"Image preview","method":"POST","ret":"bin","paytoqs":false,"url":"http://localhost:9340/rest/serverengine/workflow/contentcreation/imagepreview/{{{template}}}","tls":"","persist":false,"proxy":"","authType":"basic","x":780,"y":860,"wires":[["c8926362.86a63"]]},{"id":"c8926362.86a63","type":"switch","z":"e9cabb74.fe91","name":"status code","property":"statusCode","propertyType":"msg","rules":[{"t":"eq","v":"404","vt":"num"},{"t":"eq","v":"200","vt":"num"}],"checkall":"true","repair":false,"outputs":2,"x":990,"y":860,"wires":[["3c9a4b78.14cbb4"],["e08a3881.c6fb88","862361d7.090908"]]},{"id":"3c9a4b78.14cbb4","type":"file in","z":"e9cabb74.fe91","name":"error.jpg","filename":"C:/red/error.jpg","format":"","chunk":false,"sendError":false,"encoding":"none","x":1200,"y":780,"wires":[["e08a3881.c6fb88"]]},{"id":"e0231524.908b68","type":"http response","z":"e9cabb74.fe91","name":"","statusCode":"200","headers":{"content-type":"text/html"},"x":1700,"y":900,"wires":[]},{"id":"a72c5cdc.fede4","type":"function","z":"e9cabb74.fe91","name":"prepend image","func":"msg.payload = \"data:image/jpg;base64, \" + msg.payload;\ndelete msg.template;\nreturn msg;","outputs":1,"noerr":0,"x":1520,"y":860,"wires":[["e0231524.908b68","3a5372b6.95354e"]]},{"id":"86cf772d.be8c48","type":"comment","z":"e9cabb74.fe91","name":"-------------------------------------------------------------- Rasterize ---------------------------------------------------------","info":"# Raster\ncall a Connect template and rasterize \nthen return a base 64 string","x":500,"y":640,"wires":[]},{"id":"862361d7.090908","type":"image","z":"e9cabb74.fe91","name":"","width":"200","data":"payload","dataType":"msg","thumbnail":false,"active":true,"x":1380,"y":960,"wires":[]},{"id":"c1da0c8c.2b9c88","type":"inject","z":"e9cabb74.fe91","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":260,"y":940,"wires":[["9df41708.6f257"]]},{"id":"2ab6e06b.8d40c","type":"file","z":"e9cabb74.fe91","name":"","filename":"c:\\temp\\lastjson.json","appendNewline":true,"createDir":false,"overwriteFile":"true","encoding":"utf8","x":1000,"y":720,"wires":[[]]},{"id":"6c201b13.43700c","type":"comment","z":"e9cabb74.fe91","name":"--------------------- For debug purpose ----------------","info":"","x":340,"y":880,"wires":[]},{"id":"9df41708.6f257","type":"file in","z":"e9cabb74.fe91","name":"","filename":"c:\\temp\\lastjson.json","format":"utf8","chunk":false,"sendError":false,"encoding":"none","x":400,"y":980,"wires":[["f25f46d3.df2498","36b406e4.ae51c2"]]},{"id":"6f21dae0.c1a004","type":"json","z":"e9cabb74.fe91","name":"","property":"payload","action":"","pretty":false,"x":910,"y":1040,"wires":[["36b406e4.ae51c2"]]},{"id":"b0cb9f93.2caeb","type":"change","z":"e9cabb74.fe91","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.json","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":840,"y":1100,"wires":[["6f21dae0.c1a004"]]},{"id":"36b406e4.ae51c2","type":"debug","z":"e9cabb74.fe91","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":990,"y":980,"wires":[]},{"id":"47584132.2f17f","type":"comment","z":"e9cabb74.fe91","name":"File store ID","info":"","x":1330,"y":220,"wires":[]},{"id":"9eb2112f.c0b23","type":"comment","z":"e9cabb74.fe91","name":"Error file store","info":"","x":1290,"y":280,"wires":[]},{"id":"3d37017b.9ec1e6","type":"comment","z":"e9cabb74.fe91","name":"wrong file extension","info":"","x":1090,"y":440,"wires":[]},{"id":"4b33e1a0.61c46","type":"http in","z":"e9cabb74.fe91","name":"","url":"preview","method":"post","upload":false,"swaggerDoc":"","x":260,"y":1220,"wires":[["cdea957c.4d1058","b0cb9f93.2caeb"]]},{"id":"3332ecd0.f45074","type":"http response","z":"e9cabb74.fe91","name":"","statusCode":"200","headers":{"content-type":"application/pdf"},"x":980,"y":1300,"wires":[]},{"id":"3813fa33.c3f4f6","type":"olc-create-preview-pdf","z":"e9cabb74.fe91","server":"93ad53ce.0a9168","template":"Duplex.OL-template","name":"","x":640,"y":1260,"wires":[["10fe98c1.800fb7"]]},{"id":"10fe98c1.800fb7","type":"base64","z":"e9cabb74.fe91","name":"","action":"","property":"payload","x":740,"y":1300,"wires":[["7364f3b.8eff88c"]]},{"id":"7364f3b.8eff88c","type":"function","z":"e9cabb74.fe91","name":"prepend application/pdf","func":"msg.payload = \"data:application/pdf;base64, \" + msg.payload;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":1360,"wires":[["3332ecd0.f45074"]]},{"id":"c9b2dff7.0cdf3","type":"debug","z":"e9cabb74.fe91","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":770,"y":1220,"wires":[]},{"id":"cdea957c.4d1058","type":"function","z":"e9cabb74.fe91","name":"set variable","func":"msg.payload = \n{ data : \n    {\n        \"WPdata\" : msg.payload.json,\n        \"RECORD\": \"000001\",\n        \"CO\": \"F1657508.dc9\",\n        \"LAYER\": \"DLY_DE_FR_00205_DUP.dot\",\n        \"WCP\": 3,\n        \"CPF\": 1,\n        \"EMB4\": \"CARD 6703 7965 1141 6000 5 N5   \",\n        \"UFM01\": \"MONSIEUR                043802\",\n        \"UFM02\": \"CO COSSE BENOIT               \",\n        \"UFM03\": \"RUE JACQUET             87    \",\n        \"UFM04\": \"5580  ROCHEFORT               \",\n        \"UFM07\": \"26 novembre 2019\",\n        \"UFM11\": \"        BP/PB 1736    1000 BRU\",\n        \"UFM95\": \"DC01047F74A5\",\n        \"UFM99\": \"JJBEA129882005330352933\",\n        \"UFM100\": \"|JJBEA129882005330352933 \",\n        \"UFM901\": \"TBDTBD\",\n        \"UFM902\": \"59995D1D5991D<br />5B60998D1B5DC<br />F0D5B77B40AFC<br />F10D285B7FEA9<br />7D281B8FE0D18<br />F82B9FC343349<br />F03A8132DDF59<br />521B585F5BCC8<br />79ACF3B0F0A5D<br />70B3264C4F2C9<br />76D06212B6BFC<br />DE9B64235F81C<br />DECCECEFEECCD<br />\",\n        \"UFM912\": \"0000TBDTBDDC01047F74A51110000100001000AA055\",\n        \"UFM903\": \"00001\",\n        \"UFM904\": \"000AA055\",\n        \"LABEL\": \"N\",\n        \"NFO1\": \"0000TBDTBDDC01047F74A5111\",\n        \"SQN\": \"000001#END##LABEL#N#END##SORT#003985#END##STDFIELDSTARTCODE##END##UFM01#MONSIEUR                043802#END##UFM02#CO COSSE BENOIT               #END##UFM03#RUE JACQUET             87    #END##UFM04#5580  ROCHEFORT               #END##UFM07#26 novembre 2019#END##UFM10##END##UFM11#        BP/PB 1736    1000 BRU#END##UFM95#DC01047F74A5#END##UFM99#JJBEA129882005330352933#END##UFM100#|JJBEA129882005330352933\",\n        \"PCD\": \"BREDA_BELFIUS_110219\",\n        \"PFT\": \"PS\",\n        \"PCT\": \"BREDA_BELFIUS_130619\",\n        \"PCO\": 2,\n        \"PCP\": \"PResConnect\"\n    },\n//pages : msg.payload.page \n};\nmsg.template = encodeURIComponent(\"Duplex.OL-template\");\nmsg.topic = \"preview\";\n// msg.page = msg.payload.data.pages;\nreturn msg;\n","outputs":1,"noerr":0,"x":510,"y":1220,"wires":[["3813fa33.c3f4f6","c9b2dff7.0cdf3"]]},{"id":"59e27b48.258b34","type":"comment","z":"e9cabb74.fe91","name":"-----------------------------------------------  Basic test of connect API -------------------------------------------","info":"","x":480,"y":1400,"wires":[]},{"id":"78ae5b3d.bbbc3c","type":"http in","z":"e9cabb74.fe91","name":"","url":"/hello","method":"get","upload":false,"swaggerDoc":"","x":220,"y":1460,"wires":[["d52f1731.8b021"]],"info":"Example: http://127.0.0.1:1880/pod/render/site/dashboard\n\n/:solution/:verb/:template/:section\n\nMaps to\nmsg.req.params.solution\nmsg.req.params.verb\nmsg.req.params.template\nmsg.req.params.section"},{"id":"b974a5a6.b90f88","type":"http response","z":"e9cabb74.fe91","name":"","statusCode":"200","headers":{"content-type":"text/html"},"x":674,"y":1461,"wires":[]},{"id":"d52f1731.8b021","type":"olc-create-web-content","z":"e9cabb74.fe91","server":"ba23399f.6256c8","template":"WEB_HELLO Web Page.OL-template","section":"","inlineall":false,"datasource":"json","name":"","x":454,"y":1461,"wires":[["b974a5a6.b90f88"]]},{"id":"f17d541a.b23238","type":"http in","z":"e9cabb74.fe91","name":"","url":"happybirthday","method":"get","upload":false,"swaggerDoc":"","x":250,"y":1500,"wires":[["bd481b3e.b347c"]]},{"id":"bf17a3e1.2d137","type":"http response","z":"e9cabb74.fe91","name":"","statusCode":"200","headers":{"content-type":"application/pdf"},"x":680,"y":1500,"wires":[]},{"id":"bd481b3e.b347c","type":"olc-create-preview-pdf","z":"e9cabb74.fe91","server":"93ad53ce.0a9168","template":"Superhero-card.OL-template","name":"","x":480,"y":1500,"wires":[["bf17a3e1.2d137"]]},{"id":"daf9956.1420e68","type":"http request","z":"e9cabb74.fe91","name":"Image preview","method":"POST","ret":"bin","paytoqs":false,"url":"http://localhost:9340/rest/serverengine/workflow/contentcreation/imagepreview/{{{template}}}","tls":"","persist":false,"proxy":"","authType":"basic","x":640,"y":1580,"wires":[["70acb1ae.a8251"]]},{"id":"b463f8be.46f03","type":"function","z":"e9cabb74.fe91","name":"set variable","func":"\nmsg.payload = {data : msg.payload, format : \"png\",pages : \"1\"};\nmsg.template = encodeURIComponent(\"Superhero-card.OL-template\");\n\nreturn msg;\n","outputs":1,"noerr":0,"x":410,"y":1540,"wires":[["daf9956.1420e68"]]},{"id":"cbe237f7.61aad","type":"http in","z":"e9cabb74.fe91","name":"","url":"happy","method":"get","upload":false,"swaggerDoc":"","x":230,"y":1540,"wires":[["b463f8be.46f03"]]},{"id":"b78d4356.360108","type":"http response","z":"e9cabb74.fe91","name":"","statusCode":"200","headers":{"content-type":"image/jpg"},"x":1220,"y":1580,"wires":[]},{"id":"ffbe89e1.a469f","type":"http in","z":"e9cabb74.fe91","name":"","url":"happy2","method":"get","upload":false,"swaggerDoc":"","x":230,"y":1580,"wires":[["9f3872a4.a20d3"]]},{"id":"9f3872a4.a20d3","type":"function","z":"e9cabb74.fe91","name":"set variable","func":"msg.payload = \n{ data : \n{\n        \"schema\": {\n            \"columns\": {\n                \"name\": \"STRING\",\n                \"address\": \"STRING\",\n                \"date-beg\": \"STRING\",\n                \"date-end\": \"STRING\",\n                \"acc-number\": \"STRING\",\n                \"acc-name\": \"STRING\",\n                \"total-bal-beg\": \"STRING\",\n                \"total-bal-end\": \"STRING\",\n                \"ExtraData\": \"STRING\"\n            },\n            \"tables\": {\n                \"detail\": {\n                    \"columns\": {\n                        \"ticker\": \"STRING\",\n                        \"sector\": \"STRING\",\n                        \"price-beg\": \"STRING\",\n                        \"price-end\": \"STRING\",\n                        \"qty-beg\": \"STRING\",\n                        \"qty-end\": \"STRING\",\n                        \"bal-beg\": \"STRING\",\n                        \"bal-end\": \"STRING\",\n                        \"gain\": \"STRING\",\n                        \"gain-perc\": \"STRING\",\n                        \"graph-data\": \"STRING\",\n                        \"ExtraData\": \"STRING\"\n                    }\n                }\n            }\n        },\n        \"id\": 147001,\n        \"datasetid\": 1830501,\n        \"fields\": {\n            \"name\": \"Didier Gombert\",\n            \"address\": \"1650 Falaise\",\n            \"date-beg\": \"4\\/29\\/2013\",\n            \"date-end\": \"4\\/29\\/2014\",\n            \"acc-number\": \"1234454-666\",\n            \"acc-name\": \"Didier Gombert\",\n            \"total-bal-beg\": \"903969.39\",\n            \"total-bal-end\": \"1058223.88\",\n            \"ExtraData\": \"\"\n        },\n        \"tables\": {\n            \"detail\": [{\n                    \"id\": 147002,\n                    \"fields\": {\n                        \"ticker\": \"S&P\",\n                        \"sector\": \"comparable\",\n                        \"price-beg\": \"1582.34\",\n                        \"price-end\": \"1865\",\n                        \"qty-beg\": \"300\",\n                        \"qty-end\": \"300\",\n                        \"bal-beg\": \"474702.00\",\n                        \"bal-end\": \"559500.00\",\n                        \"gain\": \"84798.00\",\n                        \"gain-perc\": \"17.86%\",\n                        \"graph-data\": \"([{'date':'2013-04-29','open':'1582.34','vol':'3427490000'},{'date':'2013-05-06','open':'1614.4','vol':'3294078000'},{'date':'2013-05-13','open':'1632.1','vol':'3395934000'},{'date':'2013-05-20','open':'1665.71','vol':'3570650000'},{'date':'2013-05-28','open':'1652.63','vol':'3660690000'},{'date':'2013-06-03','open':'1631.71','vol':'3631526000'},{'date':'2013-06-10','open':'1644.67','vol':'3187002000'},{'date':'2013-06-17','open':'1630.64','vol':'4091850000'},{'date':'2013-06-24','open':'1588.77','vol':'4078980000'},{'date':'2013-07-01','open':'1609.78','vol':'2755502500'},{'date':'2013-07-08','open':'1634.2','vol':'3233274000'},{'date':'2013-07-15','open':'1679.59','vol':'3122660000'},{'date':'2013-07-22','open':'1694.41','vol':'3059340000'},{'date':'2013-07-29','open':'1690.32','vol':'3384048000'},{'date':'2013-08-05','open':'1708.01','vol':'2982014000'},{'date':'2013-08-12','open':'1688.37','vol':'3066858000'},{'date':'2013-08-19','open':'1655.25','vol':'2790186000'},{'date':'2013-08-26','open':'1664.29','vol':'2739144000'},{'date':'2013-09-03','open':'1635.95','vol':'3281187500'},{'date':'2013-09-09','open':'1656.85','vol':'3154566000'},{'date':'2013-09-16','open':'1691.7','vol':'3731592000'},{'date':'2013-09-23','open':'1711.44','vol':'3062048000'},{'date':'2013-09-30','open':'1687.26','vol':'3171168000'},{'date':'2013-10-07','open':'1687.15','vol':'3226506000'},{'date':'2013-10-14','open':'1699.86','vol':'3302596000'},{'date':'2013-10-21','open':'1745.2','vol':'3492870000'},{'date':'2013-10-28','open':'1759.42','vol':'3535324000'},{'date':'2013-11-04','open':'1763.4','vol':'3602804000'},{'date':'2013-11-11','open':'1769.96','vol':'3095290000'},{'date':'2013-11-18','open':'1798.82','vol':'3162776000'},{'date':'2013-11-25','open':'1806.33','vol':'2659387500'},{'date':'2013-12-02','open':'1806.55','vol':'3333712000'},{'date':'2013-12-09','open':'1806.21','vol':'3217320000'},{'date':'2013-12-16','open':'1777.48','vol':'3880520000'},{'date':'2013-12-23','open':'1822.92','vol':'2048590000'},{'date':'2013-12-30','open':'1841.47','vol':'2615392500'},{'date':'2014-01-06','open':'1832.31','vol':'3475120000'},{'date':'2014-01-13','open':'1841.26','vol':'3567970000'},{'date':'2014-01-21','open':'1841.05','vol':'3936835000'},{'date':'2014-01-27','open':'1791.03','vol':'3810850000'},{'date':'2014-02-03','open':'1782.68','vol':'4076028000'},{'date':'2014-02-10','open':'1796.2','vol':'3348436000'},{'date':'2014-02-18','open':'1839.03','vol':'3472885000'},{'date':'2014-02-24','open':'1836.78','vol':'3742346000'},{'date':'2014-03-03','open':'1857.68','vol':'3502434000'},{'date':'2014-03-10','open':'1877.86','vol':'3328212000'},{'date':'2014-03-17','open':'1842.81','vol':'3535628000'},{'date':'2014-03-24','open':'1867.67','vol':'3355872000'},{'date':'2014-03-31','open':'1859.16','vol':'3276300000'},{'date':'2014-04-07','open':'1863.92','vol':'3666776000'},{'date':'2014-04-14','open':'1818.18','vol':'3336122500'},{'date':'2014-04-21','open':'1865.79','vol':'3069702000'},{'date':'2014-04-28','open':'1865','vol':'4034680000'}])\",\n                        \"ExtraData\": \"\"\n                    }\n                }, {\n                    \"id\": 147003,\n                    \"fields\": {\n                        \"ticker\": \"XLK\",\n                        \"sector\": \"Technology\",\n                        \"price-beg\": \"30.11\",\n                        \"price-end\": \"35.87\",\n                        \"qty-beg\": \"1203\",\n                        \"qty-end\": \"1203\",\n                        \"bal-beg\": \"36222.33\",\n                        \"bal-end\": \"43151.61\",\n                        \"gain\": \"6929.28\",\n                        \"gain-perc\": \"19.13%\",\n                        \"graph-data\": \"([{'date':'2013-04-29','open':'30.11','vol':'9436800'},{'date':'2013-05-06','open':'31.29','vol':'7394700'},{'date':'2013-05-13','open':'31.56','vol':'8973100'},{'date':'2013-05-20','open':'32.12','vol':'10635000'},{'date':'2013-05-28','open':'32.04','vol':'7585100'},{'date':'2013-06-03','open':'31.7','vol':'9688700'},{'date':'2013-06-10','open':'31.85','vol':'7207400'},{'date':'2013-06-17','open':'31.58','vol':'10404700'},{'date':'2013-06-24','open':'30.24','vol':'11121800'},{'date':'2013-07-01','open':'30.82','vol':'12468200'},{'date':'2013-07-08','open':'31.34','vol':'9332500'},{'date':'2013-07-15','open':'31.95','vol':'6574000'},{'date':'2013-07-22','open':'31.51','vol':'5254000'},{'date':'2013-07-29','open':'31.66','vol':'5710400'},{'date':'2013-08-05','open':'32.14','vol':'4606600'},{'date':'2013-08-12','open':'31.79','vol':'5853200'},{'date':'2013-08-19','open':'31.84','vol':'5062600'},{'date':'2013-08-26','open':'32.05','vol':'6020800'},{'date':'2013-09-03','open':'31.53','vol':'5853100'},{'date':'2013-09-09','open':'31.96','vol':'6373000'},{'date':'2013-09-16','open':'32.51','vol':'7563500'},{'date':'2013-09-23','open':'32.62','vol':'5729400'},{'date':'2013-09-30','open':'31.9','vol':'7132100'},{'date':'2013-10-07','open':'31.95','vol':'8008700'},{'date':'2013-10-14','open':'32.26','vol':'7587600'},{'date':'2013-10-21','open':'33.38','vol':'6761500'},{'date':'2013-10-28','open':'33.59','vol':'9781400'},{'date':'2013-11-04','open':'33.76','vol':'7044300'},{'date':'2013-11-11','open':'33.89','vol':'7094500'},{'date':'2013-11-18','open':'34.36','vol':'4503400'},{'date':'2013-11-25','open':'34.22','vol':'6333600'},{'date':'2013-12-02','open':'34.72','vol':'5182000'},{'date':'2013-12-09','open':'34.92','vol':'6003600'},{'date':'2013-12-16','open':'34.38','vol':'9237800'},{'date':'2013-12-23','open':'35.28','vol':'4326000'},{'date':'2013-12-30','open':'35.55','vol':'6310200'},{'date':'2014-01-06','open':'35.18','vol':'7136900'},{'date':'2014-01-13','open':'35.29','vol':'7161700'},{'date':'2014-01-21','open':'36.03','vol':'8106200'},{'date':'2014-01-27','open':'35.18','vol':'10330400'},{'date':'2014-02-03','open':'34.74','vol':'10101800'},{'date':'2014-02-10','open':'35.1','vol':'8227700'},{'date':'2014-02-18','open':'36.11','vol':'6906900'},{'date':'2014-02-24','open':'35.91','vol':'6885500'},{'date':'2014-03-03','open':'35.9','vol':'9085100'},{'date':'2014-03-10','open':'36.4','vol':'8341500'},{'date':'2014-03-17','open':'35.87','vol':'9220700'},{'date':'2014-03-24','open':'36.42','vol':'8955400'},{'date':'2014-03-31','open':'36.3','vol':'8534100'},{'date':'2014-04-07','open':'35.77','vol':'9501800'},{'date':'2014-04-14','open':'35.43','vol':'8865700'},{'date':'2014-04-21','open':'36.06','vol':'6368200'},{'date':'2014-04-28','open':'35.87','vol':'12067900'}])\",\n                        \"ExtraData\": \"\"\n                    }\n                }, {\n                    \"id\": 147004,\n                    \"fields\": {\n                        \"ticker\": \"RWR\",\n                        \"sector\": \"Real Estate\",\n                        \"price-beg\": \"81.74\",\n                        \"price-end\": \"80.12\",\n                        \"qty-beg\": \"500\",\n                        \"qty-end\": \"500\",\n                        \"bal-beg\": \"40870.00\",\n                        \"bal-end\": \"40060.00\",\n                        \"gain\": \"-810.00\",\n                        \"gain-perc\": \"-1.98%\",\n                        \"graph-data\": \"([{'date':'2013-04-29','open':'81.74','vol':'154400'},{'date':'2013-05-06','open':'83.24','vol':'102500'},{'date':'2013-05-13','open':'83.7','vol':'146600'},{'date':'2013-05-20','open':'85.02','vol':'194400'},{'date':'2013-05-28','open':'83.64','vol':'344300'},{'date':'2013-06-03','open':'78.11','vol':'374800'},{'date':'2013-06-10','open':'78.02','vol':'245000'},{'date':'2013-06-17','open':'77.63','vol':'380300'},{'date':'2013-06-24','open':'72.07','vol':'351600'},{'date':'2013-07-01','open':'76.25','vol':'261000'},{'date':'2013-07-08','open':'76.48','vol':'190400'},{'date':'2013-07-15','open':'78.77','vol':'146400'},{'date':'2013-07-22','open':'79.79','vol':'130600'},{'date':'2013-07-29','open':'78.33','vol':'185300'},{'date':'2013-08-05','open':'75.67','vol':'294600'},{'date':'2013-08-12','open':'75.75','vol':'302000'},{'date':'2013-08-19','open':'70.68','vol':'290000'},{'date':'2013-08-26','open':'72.61','vol':'182900'},{'date':'2013-09-03','open':'71.61','vol':'266200'},{'date':'2013-09-09','open':'71.7','vol':'201300'},{'date':'2013-09-16','open':'74.25','vol':'200400'},{'date':'2013-09-23','open':'74.24','vol':'129400'},{'date':'2013-09-30','open':'73.35','vol':'189200'},{'date':'2013-10-07','open':'72.37','vol':'245400'},{'date':'2013-10-14','open':'74.51','vol':'281400'},{'date':'2013-10-21','open':'76.93','vol':'248900'},{'date':'2013-10-28','open':'78.06','vol':'158600'},{'date':'2013-11-04','open':'76.51','vol':'356700'},{'date':'2013-11-11','open':'73.05','vol':'413900'},{'date':'2013-11-18','open':'74.1','vol':'168600'},{'date':'2013-11-25','open':'72.47','vol':'158800'},{'date':'2013-12-02','open':'71.65','vol':'257800'},{'date':'2013-12-09','open':'72.63','vol':'256100'},{'date':'2013-12-16','open':'70.91','vol':'311100'},{'date':'2013-12-23','open':'71.1','vol':'316900'},{'date':'2013-12-30','open':'71.78','vol':'500700'},{'date':'2014-01-06','open':'72.02','vol':'219500'},{'date':'2014-01-13','open':'73','vol':'211800'},{'date':'2014-01-21','open':'73.41','vol':'251100'},{'date':'2014-01-27','open':'72.72','vol':'276400'},{'date':'2014-02-03','open':'74.19','vol':'239000'},{'date':'2014-02-10','open':'75.17','vol':'172500'},{'date':'2014-02-18','open':'76.77','vol':'226900'},{'date':'2014-02-24','open':'77.11','vol':'188700'},{'date':'2014-03-03','open':'77.6','vol':'266400'},{'date':'2014-03-10','open':'77.52','vol':'273800'},{'date':'2014-03-17','open':'77.92','vol':'247500'},{'date':'2014-03-24','open':'77.25','vol':'363600'},{'date':'2014-03-31','open':'77.7','vol':'239200'},{'date':'2014-04-07','open':'78.69','vol':'411100'},{'date':'2014-04-14','open':'78.51','vol':'256700'},{'date':'2014-04-21','open':'79.65','vol':'277100'},{'date':'2014-04-28','open':'80.12','vol':'252600'}])\",\n                        \"ExtraData\": \"\"\n                    }\n                }, {\n                    \"id\": 147005,\n                    \"fields\": {\n                        \"ticker\": \"IBB\",\n                        \"sector\": \"Health Care\",\n                        \"price-beg\": \"174\",\n                        \"price-end\": \"225.72\",\n                        \"qty-beg\": \"450.25\",\n                        \"qty-end\": \"450.25\",\n                        \"bal-beg\": \"78343.50\",\n                        \"bal-end\": \"101630.43\",\n                        \"gain\": \"23286.93\",\n                        \"gain-perc\": \"29.72%\",\n                        \"graph-data\": \"([{'date':'2013-04-29','open':'174','vol':'702100'},{'date':'2013-05-06','open':'177.46','vol':'529400'},{'date':'2013-05-13','open':'180.02','vol':'844900'},{'date':'2013-05-20','open':'182.33','vol':'778200'},{'date':'2013-05-28','open':'183.48','vol':'511100'},{'date':'2013-06-03','open':'179.56','vol':'1237800'},{'date':'2013-06-10','open':'180.3','vol':'577900'},{'date':'2013-06-17','open':'176.9','vol':'885900'},{'date':'2013-06-24','open':'166.42','vol':'822600'},{'date':'2013-07-01','open':'178.13','vol':'807200'},{'date':'2013-07-08','open':'183.8','vol':'949400'},{'date':'2013-07-15','open':'194.55','vol':'641400'},{'date':'2013-07-22','open':'195.76','vol':'835200'},{'date':'2013-07-29','open':'196.26','vol':'495500'},{'date':'2013-08-05','open':'201','vol':'564600'},{'date':'2013-08-12','open':'194.47','vol':'755600'},{'date':'2013-08-19','open':'187.16','vol':'572800'},{'date':'2013-08-26','open':'194.38','vol':'665900'},{'date':'2013-09-03','open':'197.46','vol':'717700'},{'date':'2013-09-09','open':'202.66','vol':'628600'},{'date':'2013-09-16','open':'211.29','vol':'706900'},{'date':'2013-09-23','open':'209.5','vol':'552500'},{'date':'2013-09-30','open':'208.3','vol':'1187600'},{'date':'2013-10-07','open':'211.26','vol':'2140900'},{'date':'2013-10-14','open':'199.66','vol':'1013500'},{'date':'2013-10-21','open':'207.21','vol':'886700'},{'date':'2013-10-28','open':'212.43','vol':'1115800'},{'date':'2013-11-04','open':'207.79','vol':'1131600'},{'date':'2013-11-11','open':'205.21','vol':'734600'},{'date':'2013-11-18','open':'212.31','vol':'1020800'},{'date':'2013-11-25','open':'222.5','vol':'577900'},{'date':'2013-12-02','open':'223.53','vol':'635300'},{'date':'2013-12-09','open':'222.09','vol':'1036600'},{'date':'2013-12-16','open':'215.49','vol':'712600'},{'date':'2013-12-23','open':'226.24','vol':'471000'},{'date':'2013-12-30','open':'226.28','vol':'413600'},{'date':'2014-01-06','open':'226','vol':'1011000'},{'date':'2014-01-13','open':'240.89','vol':'1102200'},{'date':'2014-01-21','open':'251.74','vol':'1174300'},{'date':'2014-01-27','open':'243.67','vol':'1722700'},{'date':'2014-02-03','open':'247','vol':'1515600'},{'date':'2014-02-10','open':'248.11','vol':'1306900'},{'date':'2014-02-18','open':'260.34','vol':'1175100'},{'date':'2014-02-24','open':'270.97','vol':'1696800'},{'date':'2014-03-03','open':'259.06','vol':'2486200'},{'date':'2014-03-10','open':'259.4','vol':'2017600'},{'date':'2014-03-17','open':'256.7','vol':'2173300'},{'date':'2014-03-24','open':'247.36','vol':'4184300'},{'date':'2014-03-31','open':'231.08','vol':'3376400'},{'date':'2014-04-07','open':'224.83','vol':'4737200'},{'date':'2014-04-14','open':'218.42','vol':'4523600'},{'date':'2014-04-21','open':'223.81','vol':'2827400'},{'date':'2014-04-28','open':'225.72','vol':'3431500'}])\",\n                        \"ExtraData\": \"\"\n                    }\n                }, {\n                    \"id\": 147006,\n                    \"fields\": {\n                        \"ticker\": \"VOX\",\n                        \"sector\": \"Telecom\",\n                        \"price-beg\": \"49.19\",\n                        \"price-end\": \"54.91\",\n                        \"qty-beg\": \"300\",\n                        \"qty-end\": \"300\",\n                        \"bal-beg\": \"14757.00\",\n                        \"bal-end\": \"16473.00\",\n                        \"gain\": \"1716.00\",\n                        \"gain-perc\": \"11.63%\",\n                        \"graph-data\": \"([{'date':'2004-09-29','open':'49.19','vol':'25200'},{'date':'2004-09-30','open':'49.43','vol':'100'},{'date':'2004-10-01','open':'49.43','vol':'0'},{'date':'2004-10-04','open':'49.43','vol':'0'},{'date':'2004-10-05','open':'49.43','vol':'0'},{'date':'2004-10-06','open':'51.13','vol':'20000'},{'date':'2004-10-07','open':'51.13','vol':'0'},{'date':'2004-10-08','open':'51.3','vol':'200'},{'date':'2004-10-11','open':'51.05','vol':'2000'},{'date':'2004-10-12','open':'50.89','vol':'0'},{'date':'2004-10-13','open':'50.89','vol':'0'},{'date':'2004-10-14','open':'50.89','vol':'0'},{'date':'2004-10-15','open':'50.89','vol':'0'},{'date':'2004-10-18','open':'50.89','vol':'0'},{'date':'2004-10-19','open':'50.47','vol':'100'},{'date':'2004-10-20','open':'50.33','vol':'300'},{'date':'2004-10-21','open':'49.95','vol':'3300'},{'date':'2004-10-22','open':'49.79','vol':'700'},{'date':'2004-10-25','open':'49.16','vol':'200'},{'date':'2004-10-26','open':'49.67','vol':'200'},{'date':'2004-10-27','open':'50.1','vol':'10000'},{'date':'2004-10-28','open':'50.24','vol':'1200'},{'date':'2004-10-29','open':'50.68','vol':'1100'},{'date':'2004-11-01','open':'50.56','vol':'18300'},{'date':'2004-11-02','open':'51.37','vol':'41800'},{'date':'2004-11-03','open':'51.7','vol':'3400'},{'date':'2004-11-04','open':'52.1','vol':'300'},{'date':'2004-11-05','open':'52.57','vol':'2900'},{'date':'2004-11-08','open':'52.69','vol':'500'},{'date':'2004-11-09','open':'52.58','vol':'6500'},{'date':'2004-11-10','open':'52.9','vol':'5200'},{'date':'2004-11-11','open':'53.05','vol':'10700'},{'date':'2004-11-12','open':'53.28','vol':'1200'},{'date':'2004-11-15','open':'53.98','vol':'20600'},{'date':'2004-11-16','open':'53.41','vol':'10700'},{'date':'2004-11-17','open':'54.12','vol':'13200'},{'date':'2004-11-18','open':'53.46','vol':'500'},{'date':'2004-11-19','open':'53.24','vol':'10100'},{'date':'2004-11-22','open':'53.14','vol':'500'},{'date':'2004-11-23','open':'52.97','vol':'37200'},{'date':'2004-11-24','open':'53.03','vol':'2700'},{'date':'2004-11-26','open':'53.37','vol':'18000'},{'date':'2004-11-29','open':'53.68','vol':'28200'},{'date':'2004-11-30','open':'53.46','vol':'52200'},{'date':'2004-12-01','open':'53.92','vol':'3900'},{'date':'2004-12-02','open':'54.93','vol':'9800'},{'date':'2004-12-03','open':'54.98','vol':'12000'},{'date':'2004-12-06','open':'54.75','vol':'900'},{'date':'2004-12-07','open':'54.76','vol':'5600'},{'date':'2004-12-08','open':'53.73','vol':'63300'},{'date':'2004-12-09','open':'53.49','vol':'26500'},{'date':'2004-12-10','open':'54.2','vol':'300'},{'date':'2004-12-13','open':'54.91','vol':'2000'}])\",\n                        \"ExtraData\": \"\"\n                    }\n                }, {\n                    \"id\": 147007,\n                    \"fields\": {\n                        \"ticker\": \"PHO\",\n                        \"sector\": \"Utilities\",\n                        \"price-beg\": \"21.89\",\n                        \"price-end\": \"25.99\",\n                        \"qty-beg\": \"500\",\n                        \"qty-end\": \"500\",\n                        \"bal-beg\": \"10945.00\",\n                        \"bal-end\": \"12995.00\",\n                        \"gain\": \"2050.00\",\n                        \"gain-perc\": \"18.73%\",\n                        \"graph-data\": \"([{'date':'2013-04-29','open':'21.89','vol':'98500'},{'date':'2013-05-06','open':'22.32','vol':'77600'},{'date':'2013-05-13','open':'22.77','vol':'100300'},{'date':'2013-05-20','open':'23.25','vol':'106500'},{'date':'2013-05-28','open':'23.16','vol':'89100'},{'date':'2013-06-03','open':'22.91','vol':'154200'},{'date':'2013-06-10','open':'22.73','vol':'104200'},{'date':'2013-06-17','open':'22.69','vol':'116500'},{'date':'2013-06-24','open':'21.51','vol':'116500'},{'date':'2013-07-01','open':'22.13','vol':'112500'},{'date':'2013-07-08','open':'22.46','vol':'92400'},{'date':'2013-07-15','open':'23.26','vol':'82900'},{'date':'2013-07-22','open':'23.48','vol':'74500'},{'date':'2013-07-29','open':'23.22','vol':'84900'},{'date':'2013-08-05','open':'23.25','vol':'56500'},{'date':'2013-08-12','open':'22.89','vol':'83200'},{'date':'2013-08-19','open':'22.46','vol':'55100'},{'date':'2013-08-26','open':'22.87','vol':'52700'},{'date':'2013-09-03','open':'22.5','vol':'50600'},{'date':'2013-09-09','open':'22.75','vol':'128400'},{'date':'2013-09-16','open':'23.49','vol':'84100'},{'date':'2013-09-23','open':'23.91','vol':'152000'},{'date':'2013-09-30','open':'23.8','vol':'92100'},{'date':'2013-10-07','open':'23.64','vol':'74600'},{'date':'2013-10-14','open':'23.67','vol':'67100'},{'date':'2013-10-21','open':'24.28','vol':'79300'},{'date':'2013-10-28','open':'24.7','vol':'94700'},{'date':'2013-11-04','open':'24.76','vol':'78700'},{'date':'2013-11-11','open':'24.68','vol':'119300'},{'date':'2013-11-18','open':'25.42','vol':'88500'},{'date':'2013-11-25','open':'25.38','vol':'50900'},{'date':'2013-12-02','open':'25.3','vol':'159000'},{'date':'2013-12-09','open':'24.89','vol':'90900'},{'date':'2013-12-16','open':'24.67','vol':'91800'},{'date':'2013-12-23','open':'25.81','vol':'190500'},{'date':'2013-12-30','open':'26.13','vol':'225900'},{'date':'2014-01-06','open':'25.95','vol':'96200'},{'date':'2014-01-13','open':'25.93','vol':'139100'},{'date':'2014-01-21','open':'26.38','vol':'190900'},{'date':'2014-01-27','open':'25.4','vol':'112000'},{'date':'2014-02-03','open':'25.45','vol':'94000'},{'date':'2014-02-10','open':'25.6','vol':'110700'},{'date':'2014-02-18','open':'26.35','vol':'85200'},{'date':'2014-02-24','open':'26.45','vol':'99500'},{'date':'2014-03-03','open':'26.53','vol':'110500'},{'date':'2014-03-10','open':'27.01','vol':'88100'},{'date':'2014-03-17','open':'26.46','vol':'92200'},{'date':'2014-03-24','open':'26.8','vol':'114900'},{'date':'2014-03-31','open':'26.36','vol':'91800'},{'date':'2014-04-07','open':'26.59','vol':'225700'},{'date':'2014-04-14','open':'26','vol':'83100'},{'date':'2014-04-21','open':'26.42','vol':'119400'},{'date':'2014-04-28','open':'25.99','vol':'78500'}])\",\n                        \"ExtraData\": \"\"\n                    }\n                }, {\n                    \"id\": 147008,\n                    \"fields\": {\n                        \"ticker\": \"KRE\",\n                        \"sector\": \"Financial\",\n                        \"price-beg\": \"30.85\",\n                        \"price-end\": \"38.96\",\n                        \"qty-beg\": \"100\",\n                        \"qty-end\": \"100\",\n                        \"bal-beg\": \"3085.00\",\n                        \"bal-end\": \"3896.00\",\n                        \"gain\": \"811.00\",\n                        \"gain-perc\": \"26.29%\",\n                        \"graph-data\": \"([{'date':'2013-04-29','open':'30.85','vol':'1241000'},{'date':'2013-05-06','open':'31.15','vol':'1827600'},{'date':'2013-05-13','open':'31.91','vol':'1632500'},{'date':'2013-05-20','open':'32.92','vol':'2297100'},{'date':'2013-05-28','open':'33.07','vol':'1500200'},{'date':'2013-06-03','open':'32.95','vol':'1903400'},{'date':'2013-06-10','open':'32.99','vol':'2044600'},{'date':'2013-06-17','open':'32.47','vol':'2525200'},{'date':'2013-06-24','open':'32.51','vol':'4029000'},{'date':'2013-07-01','open':'34.12','vol':'4277800'},{'date':'2013-07-08','open':'36.23','vol':'5543400'},{'date':'2013-07-15','open':'35.81','vol':'3151000'},{'date':'2013-07-22','open':'36.67','vol':'3581800'},{'date':'2013-07-29','open':'36.95','vol':'2821200'},{'date':'2013-08-05','open':'37.44','vol':'1701800'},{'date':'2013-08-12','open':'36.56','vol':'1422200'},{'date':'2013-08-19','open':'36.54','vol':'1997300'},{'date':'2013-08-26','open':'36.96','vol':'2691100'},{'date':'2013-09-03','open':'35.35','vol':'2531500'},{'date':'2013-09-09','open':'35.47','vol':'2659000'},{'date':'2013-09-16','open':'35.88','vol':'5926400'},{'date':'2013-09-23','open':'35.41','vol':'2384700'},{'date':'2013-09-30','open':'35.2','vol':'2997500'},{'date':'2013-10-07','open':'35.66','vol':'3298800'},{'date':'2013-10-14','open':'36.39','vol':'3432800'},{'date':'2013-10-21','open':'37.35','vol':'2397300'},{'date':'2013-10-28','open':'37.81','vol':'2255900'},{'date':'2013-11-04','open':'37.45','vol':'2637400'},{'date':'2013-11-11','open':'38.78','vol':'2202400'},{'date':'2013-11-18','open':'38.45','vol':'2056700'},{'date':'2013-11-25','open':'39.57','vol':'2246900'},{'date':'2013-12-02','open':'39.96','vol':'2287400'},{'date':'2013-12-09','open':'39.99','vol':'2368100'},{'date':'2013-12-16','open':'39.36','vol':'2730800'},{'date':'2013-12-23','open':'40.25','vol':'2986500'},{'date':'2013-12-30','open':'40.7','vol':'2270800'},{'date':'2014-01-06','open':'40.2','vol':'1982500'},{'date':'2014-01-13','open':'40.33','vol':'3545400'},{'date':'2014-01-21','open':'40.35','vol':'3327100'},{'date':'2014-01-27','open':'39.85','vol':'3729900'},{'date':'2014-02-03','open':'38.16','vol':'3395100'},{'date':'2014-02-10','open':'37.92','vol':'2583200'},{'date':'2014-02-18','open':'38.85','vol':'7397400'},{'date':'2014-02-24','open':'38.14','vol':'3276100'},{'date':'2014-03-03','open':'39.33','vol':'2894200'},{'date':'2014-03-10','open':'41.14','vol':'3447700'},{'date':'2014-03-17','open':'40.99','vol':'4282200'},{'date':'2014-03-24','open':'42.2','vol':'3340200'},{'date':'2014-03-31','open':'40.76','vol':'3758200'},{'date':'2014-04-07','open':'41.06','vol':'4202900'},{'date':'2014-04-14','open':'39.52','vol':'3635700'},{'date':'2014-04-21','open':'39.8','vol':'2150900'},{'date':'2014-04-28','open':'38.96','vol':'3810500'}])\",\n                        \"ExtraData\": \"\"\n                    }\n                }, {\n                    \"id\": 147009,\n                    \"fields\": {\n                        \"ticker\": \"XLY\",\n                        \"sector\": \"Consumer Discretionary\",\n                        \"price-beg\": \"54.51\",\n                        \"price-end\": \"63.71\",\n                        \"qty-beg\": \"3400\",\n                        \"qty-end\": \"3400\",\n                        \"bal-beg\": \"185334.00\",\n                        \"bal-end\": \"216614.00\",\n                        \"gain\": \"31280.00\",\n                        \"gain-perc\": \"16.88%\",\n                        \"graph-data\": \"([{'date':'2013-04-29','open':'54.51','vol':'4162900'},{'date':'2013-05-06','open':'55.56','vol':'4165300'},{'date':'2013-05-13','open':'56.71','vol':'4441600'},{'date':'2013-05-20','open':'57.42','vol':'5778400'},{'date':'2013-05-28','open':'57.47','vol':'5747300'},{'date':'2013-06-03','open':'56.27','vol':'8049500'},{'date':'2013-06-10','open':'57.07','vol':'6024600'},{'date':'2013-06-17','open':'56.66','vol':'8597100'},{'date':'2013-06-24','open':'54.48','vol':'5909400'},{'date':'2013-07-01','open':'56.76','vol':'5425800'},{'date':'2013-07-08','open':'58.15','vol':'8201400'},{'date':'2013-07-15','open':'59.9','vol':'4509600'},{'date':'2013-07-22','open':'59.62','vol':'3720800'},{'date':'2013-07-29','open':'59.42','vol':'4140000'},{'date':'2013-08-05','open':'60.61','vol':'2939800'},{'date':'2013-08-12','open':'59.76','vol':'7100200'},{'date':'2013-08-19','open':'58.06','vol':'4130300'},{'date':'2013-08-26','open':'58.6','vol':'5133300'},{'date':'2013-09-03','open':'58.33','vol':'6105500'},{'date':'2013-09-09','open':'58.86','vol':'4756300'},{'date':'2013-09-16','open':'60.93','vol':'6880500'},{'date':'2013-09-23','open':'60.83','vol':'5042100'},{'date':'2013-09-30','open':'60.23','vol':'5252100'},{'date':'2013-10-07','open':'60.56','vol':'7949700'},{'date':'2013-10-14','open':'60.43','vol':'7026700'},{'date':'2013-10-21','open':'62.14','vol':'4837100'},{'date':'2013-10-28','open':'63.27','vol':'6077800'},{'date':'2013-11-04','open':'63.65','vol':'6297100'},{'date':'2013-11-11','open':'63.34','vol':'5481200'},{'date':'2013-11-18','open':'65.05','vol':'4709200'},{'date':'2013-11-25','open':'65.02','vol':'3367100'},{'date':'2013-12-02','open':'65.52','vol':'4340800'},{'date':'2013-12-09','open':'65.16','vol':'4228300'},{'date':'2013-12-16','open':'64.72','vol':'6065800'},{'date':'2013-12-23','open':'65.97','vol':'3463800'},{'date':'2013-12-30','open':'66.42','vol':'3474100'},{'date':'2014-01-06','open':'66.42','vol':'4533200'},{'date':'2014-01-13','open':'66.3','vol':'6169000'},{'date':'2014-01-21','open':'65.31','vol':'7917700'},{'date':'2014-01-27','open':'63.62','vol':'9785500'},{'date':'2014-02-03','open':'62.76','vol':'12857000'},{'date':'2014-02-10','open':'64.18','vol':'5190800'},{'date':'2014-02-18','open':'65.5','vol':'4739100'},{'date':'2014-02-24','open':'65.26','vol':'4924600'},{'date':'2014-03-03','open':'66.16','vol':'6044600'},{'date':'2014-03-10','open':'67.36','vol':'5701100'},{'date':'2014-03-17','open':'66.14','vol':'4501000'},{'date':'2014-03-24','open':'65.75','vol':'7441100'},{'date':'2014-03-31','open':'64.66','vol':'5713400'},{'date':'2014-04-07','open':'64.4','vol':'6940400'},{'date':'2014-04-14','open':'62.72','vol':'6020400'},{'date':'2014-04-21','open':'63.75','vol':'5290200'},{'date':'2014-04-28','open':'63.71','vol':'9335000'}])\",\n                        \"ExtraData\": \"\"\n                    }\n                }, {\n                    \"id\": 147010,\n                    \"fields\": {\n                        \"ticker\": \"XLP\",\n                        \"sector\": \"Consumer Staple\",\n                        \"price-beg\": \"41.01\",\n                        \"price-end\": \"43.89\",\n                        \"qty-beg\": \"1456\",\n                        \"qty-end\": \"1456\",\n                        \"bal-beg\": \"59710.56\",\n                        \"bal-end\": \"63903.84\",\n                        \"gain\": \"4193.28\",\n                        \"gain-perc\": \"7.02%\",\n                        \"graph-data\": \"([{'date':'2013-04-29','open':'41.01','vol':'9528900'},{'date':'2013-05-06','open':'41.2','vol':'10096700'},{'date':'2013-05-13','open':'41.12','vol':'9120900'},{'date':'2013-05-20','open':'41.91','vol':'13204300'},{'date':'2013-05-28','open':'42.06','vol':'21729000'},{'date':'2013-06-03','open':'40.15','vol':'20022900'},{'date':'2013-06-10','open':'40.85','vol':'13586900'},{'date':'2013-06-17','open':'40.83','vol':'19830700'},{'date':'2013-06-24','open':'39.15','vol':'15435500'},{'date':'2013-07-01','open':'39.91','vol':'7956100'},{'date':'2013-07-08','open':'40.08','vol':'8419900'},{'date':'2013-07-15','open':'41.5','vol':'8417400'},{'date':'2013-07-22','open':'41.84','vol':'6613300'},{'date':'2013-07-29','open':'41.47','vol':'6025200'},{'date':'2013-08-05','open':'41.74','vol':'4265400'},{'date':'2013-08-12','open':'41.41','vol':'6144000'},{'date':'2013-08-19','open':'40.27','vol':'5811000'},{'date':'2013-08-26','open':'40.22','vol':'12726100'},{'date':'2013-09-03','open':'39.69','vol':'8283700'},{'date':'2013-09-09','open':'39.79','vol':'7145500'},{'date':'2013-09-16','open':'41.06','vol':'7942900'},{'date':'2013-09-23','open':'40.94','vol':'5938000'},{'date':'2013-09-30','open':'39.95','vol':'7300200'},{'date':'2013-10-07','open':'39.58','vol':'7046900'},{'date':'2013-10-14','open':'40.35','vol':'7199200'},{'date':'2013-10-21','open':'41.43','vol':'6783500'},{'date':'2013-10-28','open':'42.15','vol':'16131100'},{'date':'2013-11-04','open':'42.61','vol':'9324400'},{'date':'2013-11-11','open':'42.65','vol':'6047200'},{'date':'2013-11-18','open':'43.46','vol':'6110200'},{'date':'2013-11-25','open':'43.3','vol':'3550100'},{'date':'2013-12-02','open':'43.03','vol':'6485600'},{'date':'2013-12-09','open':'43.26','vol':'9230400'},{'date':'2013-12-16','open':'42.35','vol':'8320100'},{'date':'2013-12-23','open':'42.65','vol':'7815500'},{'date':'2013-12-30','open':'42.84','vol':'7764400'},{'date':'2014-01-06','open':'42.48','vol':'16228800'},{'date':'2014-01-13','open':'42.4','vol':'7860000'},{'date':'2014-01-21','open':'42.19','vol':'9165000'},{'date':'2014-01-27','open':'41.5','vol':'18278400'},{'date':'2014-02-03','open':'40.71','vol':'16415500'},{'date':'2014-02-10','open':'40.9','vol':'7425900'},{'date':'2014-02-18','open':'41.79','vol':'6427700'},{'date':'2014-02-24','open':'41.63','vol':'4812200'},{'date':'2014-03-03','open':'42.01','vol':'6893000'},{'date':'2014-03-10','open':'42.54','vol':'7032100'},{'date':'2014-03-17','open':'42.72','vol':'7155000'},{'date':'2014-03-24','open':'42.52','vol':'7474900'},{'date':'2014-03-31','open':'42.99','vol':'7089800'},{'date':'2014-04-07','open':'42.85','vol':'9986300'},{'date':'2014-04-14','open':'42.98','vol':'4794200'},{'date':'2014-04-21','open':'43.52','vol':'6207900'},{'date':'2014-04-28','open':'43.89','vol':'7214200'}])\",\n                        \"ExtraData\": \"\"\n                    }\n                }\n            ]\n        }\n    },\n    format : \"png\",\n\tpages : \"1\", \n};\nmsg.template = encodeURIComponent(\"Mutual-Statement.OL-template\");\n\nreturn msg;\n","outputs":1,"noerr":0,"x":410,"y":1580,"wires":[["daf9956.1420e68"]]},{"id":"70acb1ae.a8251","type":"switch","z":"e9cabb74.fe91","name":"status code","property":"statusCode","propertyType":"msg","rules":[{"t":"eq","v":"404","vt":"num"},{"t":"eq","v":"200","vt":"num"}],"checkall":"true","repair":false,"outputs":2,"x":870,"y":1580,"wires":[["9d7d7189.e8ec78"],["b78d4356.360108"]]},{"id":"9d7d7189.e8ec78","type":"file in","z":"e9cabb74.fe91","name":"error.jpg","filename":"C:/red/error.jpg","format":"","chunk":false,"sendError":false,"encoding":"none","x":1040,"y":1540,"wires":[["b78d4356.360108"]]},{"id":"543838af.f0d8e","type":"http in","z":"e9cabb74.fe91","name":"","url":"belfius","method":"get","upload":false,"swaggerDoc":"","x":230,"y":1620,"wires":[["7af37bc0.890c84"]]},{"id":"7af37bc0.890c84","type":"function","z":"e9cabb74.fe91","name":"set variable","func":"msg.payload = \n{ data : \n    {\n        \"RECORD\": \"000001\",\n        \"CO\": \"F1657508.dc9\",\n        \"LAYER\": \"DLY_DE_FR_00205_DUP.dot\",\n        \"WCP\": 3,\n        \"CPF\": 1,\n        \"EMB4\": \"CARD 6703 7965 1141 6000 5 N5   \",\n        \"UFM01\": \"MONSIEUR                043802\",\n        \"UFM02\": \"CO COSSE BENOIT               \",\n        \"UFM03\": \"RUE JACQUET             87    \",\n        \"UFM04\": \"5580  ROCHEFORT               \",\n        \"UFM07\": \"26 novembre 2019\",\n        \"UFM11\": \"        BP/PB 1736    1000 BRU\",\n        \"UFM95\": \"DC01047F74A5\",\n        \"UFM99\": \"JJBEA129882005330352933\",\n        \"UFM100\": \"|JJBEA129882005330352933ï¿½~ \",\n        \"UFM901\": \"TBDTBD\",\n        \"UFM902\": \"59995D1D5991D<br />5B60998D1B5DC<br />F0D5B77B40AFC<br />F10D285B7FEA9<br />7D281B8FE0D18<br />F82B9FC343349<br />F03A8132DDF59<br />521B585F5BCC8<br />79ACF3B0F0A5D<br />70B3264C4F2C9<br />76D06212B6BFC<br />DE9B64235F81C<br />DECCECEFEECCD<br />\",\n        \"UFM912\": \"0000TBDTBDDC01047F74A51110000100001000AA055\",\n        \"UFM903\": \"00001\",\n        \"UFM904\": \"000AA055\",\n        \"LABEL\": \"N\",\n        \"NFO1\": \"0000TBDTBDDC01047F74A5111\",\n        \"SQN\": \"000001#END##LABEL#N#END##SORT#003985#END##STDFIELDSTARTCODE##END##UFM01#MONSIEUR                043802#END##UFM02#CO COSSE BENOIT               #END##UFM03#RUE JACQUET             87    #END##UFM04#5580  ROCHEFORT               #END##UFM07#26 novembre 2019#END##UFM10##END##UFM11#        BP/PB 1736    1000 BRU#END##UFM95#DC01047F74A5#END##UFM99#JJBEA129882005330352933#END##UFM100#|JJBEA129882005330352933ï¿½\",\n        \"PCD\": \"BREDA_BELFIUS_110219\",\n        \"PFT\": \"PS\",\n        \"PCT\": \"BREDA_BELFIUS_130619\",\n        \"PCO\": 2,\n        \"PCP\": \"PResConnect\"\n    },\nformat : \"png\",\n\tpages : \"1\", \n};\nmsg.template = encodeURIComponent(\"Belfius.OL-template\");\n\nreturn msg;\n","outputs":1,"noerr":0,"x":410,"y":1620,"wires":[["daf9956.1420e68"]]},{"id":"cf7f19e1.8049","type":"comment","z":"e9cabb74.fe91","name":"----------------------------------------------------- Serve HTML ressource  --------------------------------------------------","info":"","x":510,"y":1700,"wires":[]},{"id":"c9c60617.15294","type":"http in","z":"e9cabb74.fe91","name":"","url":"/corpo_message","method":"post","upload":false,"swaggerDoc":"","x":260,"y":1900,"wires":[["4f2a785d.585238","e07d5271.23d1c8"]],"info":"Example: http://127.0.0.1:1880/pod/render/site/dashboard\n\n/:solution/:verb/:template/:section\n\nMaps to\nmsg.req.params.solution\nmsg.req.params.verb\nmsg.req.params.template\nmsg.req.params.section"},{"id":"29708e21.496f12","type":"http response","z":"e9cabb74.fe91","name":"","statusCode":"200","headers":{"content-type":"text/html"},"x":1380,"y":2020,"wires":[]},{"id":"5a33bb7f.713f84","type":"http in","z":"e9cabb74.fe91","name":"","url":"/template_editor","method":"post","upload":false,"swaggerDoc":"","x":260,"y":2000,"wires":[["38dd6fb3.74fc28"]],"info":"Example: http://127.0.0.1:1880/pod/render/site/dashboard\n\n/:solution/:verb/:template/:section\n\nMaps to\nmsg.req.params.solution\nmsg.req.params.verb\nmsg.req.params.template\nmsg.req.params.section"},{"id":"38dd6fb3.74fc28","type":"template","z":"e9cabb74.fe91","name":"Template Editor","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!DOCTYPE html>\n<html>\n<body>\n\n<div id=\"working\">\n    <img src=\"http://gemalto/public/loading.gif\">\n</div>\n<div id=\"position\" class=\"olc-modal\">\n    <br>\n    <br>\n    <div class=\"olc-modal-content\" style=\"display: block;\">\n        <span id=\"position-close\" class=\"olc-close\">&times;</span>\n        <table class=\"table-grid\" data-column-resize=\"\" cellpadding=\"0\" cellspacing=\"0\" style=\" width: 100%;\">\n            <tbody>\n                <tr>\n                    <td style=\"width: 50.06%;\">\n                        <label>Position left \n                            <input id=\"PosXinp\" min=\"0\" max=\"2000\" name=\"PosXinp\" step=\"any\" type=\"number\" required=\"\">\n                        </label>\n                    </td>\n                    <td style=\"width: 49.94%;\">\n                        <label>Position top \n                            <input id=\"PosYinp\" min=\"0\" max=\"2000\" name=\"PosYinp\" step=\"any\" type=\"number\" required=\"\">\n                        </label>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <label>Width \n                            <input id=\"WidthInp\" min=\"0\" max=\"2000\" name=\"WidthInp\" step=\"any\" type=\"number\" required=\"\">\n                        </label>\n                    </td>\n                    <td>\n                        <label>Height \n                            <input id=\"HeightInp\" min=\"0\" max=\"2000\" name=\"HeightInp\" step=\"any\" type=\"number\" required=\"\">\n                        </label>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <br>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <label>On page :<br>\n                            <select id=\"PageInp\" name=\"PageInp\" style=\"width: 100%\">\n                                <option value=\"0\">Page 1 (Front)</option>\n                                <option value=\"1\">Page 2 (Back)</option>\n                                <option value=\"2\">Page 3</option>\n                                <option value=\"3\">Page 4</option>\n                            </select>\n                        </label>\n                    </td>\n                    <td>\n                        <label>Rotation :<br>\n                            <select id=\"rotateInp\" name=\"rotateInp\" style=\"width: 100%\">\n                                <option value=\"0\">Normal</option>\n                                <option value=\"90\">90</option>\n                                <option value=\"180\">180</option>\n                                <option value=\"270\">270</option>\n                            </select>\n                        </label>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n        <button id=\"position_btn\" style=\"width:20%; margin-bottom: 15px;\">Save</button>\n    </div>\n</div>\n<div id=\"main_menu\">\n    <div class=\"dropdown\">\n        <button class=\"dropbtn\">Template</button>\n        <div class=\"dropdown-content\">\n            <a>Working on: \n            <select id=\"template_selector\" name=\"template_selector\"></select>\n            </a>\n        </div>\n    </div>\n    <div class=\"dropdown\">\n        <button class=\"dropbtn\">Background</button>\n        <div class=\"dropdown-content\">\n            <a>Select: \n            <select id=\"background_selector\" name=\"background_selector\"></select>\n            </a><a id=\"edit_back_btn\">Edit</a>\n        </div>\n    </div>\n    <div class=\"dropdown\" style=\"display:none\">\n        <button class=\"dropbtn\">Add/Remove</button>\n        <div class=\"dropdown-content\">\n            <a id=\"remove_btn\">Remove selected</a>\n        </div>\n    </div>\n    <div class=\"dropdown\">\n        <button class=\"dropbtn\">Texts</button>\n        <div class=\"dropdown-content\">\n            <a id=\"create_text_btn\">Add a text box</a><a>Select a text \n            <select id=\"text_selector\" name=\"text_selector\"></select>\n            </a><a id=\"all_texts_btn\">Browse texts</a>\n        </div>\n    </div>\n    <div class=\"dropdown\">\n        <button class=\"dropbtn\">Images</button>\n        <div class=\"dropdown-content\">\n            <a id=\"create_image_btn\">Add an image</a><a>Select an image \n            <select id=\"image_selector\" name=\"image_selector\"></select>\n            </a><a id=\"all_images_btn\">Browse images</a>\n        </div>\n    </div>\n    <div class=\"dropdown\">\n        <button class=\"dropbtn\">Conditions</button>\n        <div class=\"dropdown-content\">\n            <div id=\"cond-content\" class=\"content-inner\">\n                <ul id=\"conditions\"></ul>\n            </div>\n        </div>\n    </div>\n    <div class=\"dropdown\">\n        <button class=\"dropbtn\">Production</button>\n        <div class=\"dropdown-content\">\n            <a>Preview date : \n            <input id=\"previewDateInp\" class=\"inpDate\" type=\"text\">\n            </a><a id=\"preview_btn\">Preview</a><a id=\"submit_btn\">Submit</a>\n        </div>\n    </div>\n    <div class=\"dropdown\" style=\"display: none;\">\n        <button class=\"dropbtn\">Message</button>\n        <div class=\"dropdown-content\">\n            <p id=\"message\">\n                - \n            </p>\n        </div>\n    </div>\n</div>\n<div id=\"pagetab\" class=\"stv-radio-tabs-wrapper\">\n    <input id=\"tab1\" class=\"stv-radio-tab\" value=\"0\" name=\"pagetabs\" checked=\"checked\" type=\"radio\">\n    <label id=\"labtab1\" for=\"tab1\">Front</label>\n    <input id=\"tab2\" class=\"stv-radio-tab\" value=\"1\" name=\"pagetabs\" type=\"radio\">\n    <label id=\"labtab2\" for=\"tab2\">Back</label>\n    <input id=\"tab3\" class=\"stv-radio-tab\" value=\"2\" name=\"pagetabs\" type=\"radio\">\n    <label id=\"labtab3\" for=\"tab3\">Other front</label>\n    <input id=\"tab4\" class=\"stv-radio-tab\" value=\"3\" name=\"pagetabs\" type=\"radio\">\n    <label id=\"labtab4\" for=\"tab4\">Other back</label>\n</div>\n<div id=\"OL_paint_div\">\n    <canvas id=\"myCanvas\" tabindex=\"1\" width=\"1200\" style=\"border:1px solid black; \" height=\"1200\">\n        Problem: You are using a browser that does not support HTML5 Canvas! \n    </canvas>\n</div>\n<script type=\"text/javascript\">\ninit();\n</script>\n</body>\n</html>\n","output":"str","x":500,"y":2000,"wires":[["29708e21.496f12"]]},{"id":"a01749c7.bcb838","type":"http in","z":"e9cabb74.fe91","name":"","url":"/tiny_test","method":"post","upload":false,"swaggerDoc":"","x":240,"y":2120,"wires":[["4fad8be4.967c14"]],"info":"Example: http://127.0.0.1:1880/pod/render/site/dashboard\n\n/:solution/:verb/:template/:section\n\nMaps to\nmsg.req.params.solution\nmsg.req.params.verb\nmsg.req.params.template\nmsg.req.params.section"},{"id":"4fad8be4.967c14","type":"file in","z":"e9cabb74.fe91","name":"","filename":"C:\\wamp64\\www\\gemalto\\wp-content\\themes\\Document-Assembly\\templateEditor.html","format":"utf8","chunk":false,"sendError":false,"encoding":"utf8","x":680,"y":2120,"wires":[["29708e21.496f12"]]},{"id":"91f2c343.bbcdf8","type":"comment","z":"e9cabb74.fe91","name":"!!!!!!!!!!!!! Warning --- Need to change for exact location","info":"","x":580,"y":2080,"wires":[],"icon":"node-red/alert.svg"},{"id":"fe5b88dd.dc4ea8","type":"ui_switch","z":"ceb2a62a.6f45f8","name":"","label":"Debug message","tooltip":"","group":"eca3b0d4.5b7868","order":0,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"switch","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":260,"y":60,"wires":[["b1755de6.1e07a","78f13653.12b2e"]]},{"id":"b1755de6.1e07a","type":"function","z":"ceb2a62a.6f45f8","name":"state","func":"var state = context.get('debug') || false;\n\nif (msg.topic == 'switch') {\n    context.set('debug', msg.payload);\n    return;\n} \n\nif (state) {\n    return msg;\n} else {\n    return;\n}\n","outputs":1,"noerr":0,"x":430,"y":160,"wires":[["78f13653.12b2e"]]},{"id":"24ea40d1.6de558","type":"inject","z":"ceb2a62a.6f45f8","name":"","topic":"","payload":"get state","payloadType":"str","repeat":"","crontab":"","once":false,"x":100,"y":160,"wires":[["b1755de6.1e07a"]]},{"id":"78f13653.12b2e","type":"debug","z":"ceb2a62a.6f45f8","name":"state","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":590,"y":160,"wires":[]},{"id":"fc80f76c.6cb07","type":"inject","z":"ceb2a62a.6f45f8","name":"on","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":"","x":90,"y":20,"wires":[["fe5b88dd.dc4ea8"]]},{"id":"5b8b9363.5833f4","type":"inject","z":"ceb2a62a.6f45f8","name":"off","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":"","x":90,"y":80,"wires":[["fe5b88dd.dc4ea8"]]},{"id":"3a5372b6.95354e","type":"ui_template","z":"e9cabb74.fe91","group":"793172d6.403c04","name":"","order":0,"width":0,"height":0,"format":"<img width=\"300px\" src=\"{{msg.payload}}\" />","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":1700,"y":820,"wires":[[]]},{"id":"f25f46d3.df2498","type":"function","z":"e9cabb74.fe91","name":"set variable","func":"msg.payload = \n{ data : \n    {\n        \"WPdata\" : msg.payload,\n        \"RECORD\": \"000001\",\n        \"CO\": \"F1657508.dc9\",\n        \"LAYER\": \"DLY_DE_FR_00205_DUP.dot\",\n        \"WCP\": 3,\n        \"CPF\": 1,\n        \"EMB4\": \"CARD 6703 7965 1141 6000 5 N5   \",\n        \"UFM01\": \"MONSIEUR                043802\",\n        \"UFM02\": \"CO COSSE BENOIT               \",\n        \"UFM03\": \"RUE JACQUET             87    \",\n        \"UFM04\": \"5580  ROCHEFORT               \",\n        \"UFM07\": \"26 novembre 2019\",\n        \"UFM11\": \"        BP/PB 1736    1000 BRU\",\n        \"UFM95\": \"DC01047F74A5\",\n        \"UFM99\": \"JJBEA129882005330352933\",\n        \"UFM100\": \"|JJBEA129882005330352933 \",\n        \"UFM901\": \"TBDTBD\",\n        \"UFM902\": \"59995D1D5991D<br />5B60998D1B5DC<br />F0D5B77B40AFC<br />F10D285B7FEA9<br />7D281B8FE0D18<br />F82B9FC343349<br />F03A8132DDF59<br />521B585F5BCC8<br />79ACF3B0F0A5D<br />70B3264C4F2C9<br />76D06212B6BFC<br />DE9B64235F81C<br />DECCECEFEECCD<br />\",\n        \"UFM912\": \"0000TBDTBDDC01047F74A51110000100001000AA055\",\n        \"UFM903\": \"00001\",\n        \"UFM904\": \"000AA055\",\n        \"LABEL\": \"N\",\n        \"NFO1\": \"0000TBDTBDDC01047F74A5111\",\n        \"SQN\": \"000001#END##LABEL#N#END##SORT#003985#END##STDFIELDSTARTCODE##END##UFM01#MONSIEUR                043802#END##UFM02#CO COSSE BENOIT               #END##UFM03#RUE JACQUET             87    #END##UFM04#5580  ROCHEFORT               #END##UFM07#26 novembre 2019#END##UFM10##END##UFM11#        BP/PB 1736    1000 BRU#END##UFM95#DC01047F74A5#END##UFM99#JJBEA129882005330352933#END##UFM100#|JJBEA129882005330352933\",\n        \"PCD\": \"BREDA_BELFIUS_110219\",\n        \"PFT\": \"PS\",\n        \"PCT\": \"BREDA_BELFIUS_130619\",\n        \"PCO\": 2,\n        \"PCP\": \"PResConnect\"\n    },\nformat : \"png\",\npages : \"1\"\n};\nmsg.template = encodeURIComponent(\"Duplex.OL-template\");\nmsg.page = 1;\nmsg.format = msg.payload.format;\nmsg.topic = 'refreshback';\nreturn msg;\n","outputs":1,"noerr":0,"x":490,"y":1020,"wires":[[]]},{"id":"f586aea4.ec4ca8","type":"function","z":"e9cabb74.fe91","name":"data -> payload","func":"msg.payload = msg.payload.data;\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":720,"wires":[["2ab6e06b.8d40c"]]},{"id":"b3197c82.aa7ee8","type":"inject","z":"8fb980b3.1d7608","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":220,"y":400,"wires":[[]]},{"id":"18f2fd3b.9ffa43","type":"debug","z":"8fb980b3.1d7608","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":770,"y":460,"wires":[]},{"id":"4616a4a8.0b400c","type":"function","z":"8fb980b3.1d7608","name":"IPv4 address","func":"// look up for the first IP v4 address\n\nfor (i = 0; i < msg.payload.networkInterfaces.Ethernet.length; i++) {\n    if (msg.payload.networkInterfaces.Ethernet[i].family == 'IPv4') {\n        msg.payload = msg.payload.networkInterfaces.Ethernet[i].address;\n        break;\n    }\n} \nreturn msg;","outputs":1,"noerr":0,"x":570,"y":400,"wires":[["18f2fd3b.9ffa43"]]},{"id":"c833df11.d3bff8","type":"function","z":"e9cabb74.fe91","name":"IPv4 address","func":"// look up for the first IP v4 address\n\nfor (i = 0; i < msg.payload.networkInterfaces.Ethernet.length; i++) {\n    if (msg.payload.networkInterfaces.Ethernet[i].family == 'IPv4') {\n        msg.payload = msg.payload.networkInterfaces.Ethernet[i].address;\n        break;\n    }\n} \nmsg.topic = \"interface\";\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":1880,"wires":[["a1e88745.b1207"]]},{"id":"3bcfc563.c8143a","type":"OS","z":"51790cbc.40d12c","name":"","x":750,"y":660,"wires":[["5f455144.bc0f08","f4763abf.8cb18","cd57bfe5.65992","294ace08.867382"]]},{"id":"2233cb65.66d92c","type":"Uptime","z":"51790cbc.40d12c","name":"","x":761,"y":615,"wires":[["cf9df36a.57f2"]]},{"id":"f6cd8807.f07de8","type":"CPUs","z":"51790cbc.40d12c","name":"","x":290,"y":920,"wires":[["ec2219ac.163db8"]]},{"id":"463b83b1.b6328c","type":"Loadavg","z":"51790cbc.40d12c","name":"","x":171,"y":165,"wires":[["d6e365e.8c83b98","e7522e9d.638fb8","8d623cfb.6165e","5a15f637.fe91a8"]]},{"id":"541ad389.27c8fc","type":"Memory","z":"51790cbc.40d12c","name":"","x":820,"y":260,"wires":[["369ef251.d4b55e","de59b3ca.dd8dc8","ac3731e3.7a7948","379f5c7f.1e2964"]]},{"id":"a69a6d00.74a27","type":"inject","z":"51790cbc.40d12c","name":"update","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":"","x":94,"y":245,"wires":[["3bcfc563.c8143a","2233cb65.66d92c","f6cd8807.f07de8","463b83b1.b6328c","541ad389.27c8fc"]]},{"id":"d6e365e.8c83b98","type":"function","z":"51790cbc.40d12c","name":"","func":"msg.payload = msg.payload.loadavg[0];\nreturn msg;","outputs":1,"noerr":0,"x":333,"y":105,"wires":[["f0007487.2e1e18"]]},{"id":"e7522e9d.638fb8","type":"function","z":"51790cbc.40d12c","name":"","func":"msg.payload = msg.payload.loadavg[1];\nreturn msg;","outputs":1,"noerr":0,"x":334,"y":143,"wires":[["e6757cf8.1c36c"]]},{"id":"8d623cfb.6165e","type":"function","z":"51790cbc.40d12c","name":"","func":"msg.payload = msg.payload.loadavg[2];\nreturn msg;","outputs":1,"noerr":0,"x":333,"y":186,"wires":[["a226d7d0.edf378"]]},{"id":"f0007487.2e1e18","type":"ui_gauge","z":"51790cbc.40d12c","name":"CPU Load 1","group":"396b7d79.834f92","order":1,"width":"0","height":"0","gtype":"gage","title":"1 Minute","label":"load","format":"{{value | number:2}}","min":0,"max":"4","colors":["#00b500","#e6e600","#ca3838"],"x":501,"y":104,"wires":[]},{"id":"e6757cf8.1c36c","type":"ui_gauge","z":"51790cbc.40d12c","name":"CPU Load 2","group":"396b7d79.834f92","order":2,"width":"3","height":"3","gtype":"gage","title":"5 Minutes","label":"load","format":"{{value | number:2}}","min":0,"max":"4","colors":["#00b500","#e6e600","#ca3838"],"x":501,"y":145,"wires":[]},{"id":"a226d7d0.edf378","type":"ui_gauge","z":"51790cbc.40d12c","name":"CPU Load 3","group":"396b7d79.834f92","order":4,"width":"3","height":"3","gtype":"gage","title":"15 Minutes","label":"load","format":"{{value | number:2}}","min":0,"max":"4","colors":["#00b500","#e6e600","#ca3838"],"x":499,"y":187,"wires":[]},{"id":"369ef251.d4b55e","type":"function","z":"51790cbc.40d12c","name":"","func":"msg.payload = msg.payload.memusage;\nreturn msg;","outputs":1,"noerr":0,"x":825,"y":428,"wires":[["3d09a3d7.88d964"]]},{"id":"3d09a3d7.88d964","type":"ui_gauge","z":"51790cbc.40d12c","name":"Memory Usage","group":"8378d78.5c46728","order":1,"width":"0","height":"0","gtype":"gage","title":"1 Minute","label":"Usage","format":"{{value | number:2}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"x":1009,"y":432,"wires":[]},{"id":"de59b3ca.dd8dc8","type":"function","z":"51790cbc.40d12c","name":"","func":"function formatBytes(bytes,decimals) {\n   if(bytes === 0) return '0 Byte';\n   var k = 1000; // or 1024 for binary\n   var dm = decimals + 1 || 3;\n   var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n   var i = Math.floor(Math.log(bytes) / Math.log(k));\n   return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n}\n\nmsg.payload = formatBytes(msg.payload.totalmem);\nreturn msg;","outputs":1,"noerr":0,"x":827,"y":471,"wires":[["c631b09d.f27ce"]]},{"id":"ac3731e3.7a7948","type":"function","z":"51790cbc.40d12c","name":"","func":"function formatBytes(bytes,decimals) {\n   if(bytes === 0) return '0 Byte';\n   var k = 1000; // or 1024 for binary\n   var dm = decimals + 1 || 3;\n   var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n   var i = Math.floor(Math.log(bytes) / Math.log(k));\n   return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n}\n\nmsg.payload = formatBytes(msg.payload.freemem);\nreturn msg;","outputs":1,"noerr":0,"x":825,"y":517,"wires":[["2726425a.e48c9e"]]},{"id":"c631b09d.f27ce","type":"ui_text","z":"51790cbc.40d12c","group":"8378d78.5c46728","order":2,"width":"0","height":"0","name":"","label":"Total Memory","format":"{{msg.payload}}","layout":"row-spread","x":1008,"y":475,"wires":[]},{"id":"2726425a.e48c9e","type":"ui_text","z":"51790cbc.40d12c","group":"8378d78.5c46728","order":3,"width":"0","height":"0","name":"","label":"Free Memory","format":"{{msg.payload}}","layout":"row-spread","x":1012,"y":518,"wires":[]},{"id":"cf9df36a.57f2","type":"function","z":"51790cbc.40d12c","name":"","func":"function timeConversion(millisec) {\n\n    var seconds = (millisec / 1000).toFixed(1);\n\n    var minutes = (millisec / (1000 * 60)).toFixed(1);\n\n    var hours = (millisec / (1000 * 60 * 60)).toFixed(1);\n\n    var days = (millisec / (1000 * 60 * 60 * 24)).toFixed(1);\n\n    if (seconds < 60) {\n        return seconds + \" Sec\";\n    } else if (minutes < 60) {\n        return minutes + \" Min\";\n    } else if (hours < 24) {\n        return hours + \" Hrs\";\n    } else {\n        return days + \" Days\"\n    }\n}\n\nmsg.payload = timeConversion(msg.payload.uptime * 1000);\nreturn msg;","outputs":1,"noerr":0,"x":922,"y":615,"wires":[["dbdf60f6.459118"]]},{"id":"dbdf60f6.459118","type":"ui_text","z":"51790cbc.40d12c","group":"56329cc.047c7e4","order":1,"width":"0","height":"0","name":"","label":"Uptime","format":"{{msg.payload}}","layout":"row-spread","x":1077,"y":614,"wires":[]},{"id":"5f455144.bc0f08","type":"function","z":"51790cbc.40d12c","name":"","func":"msg.payload = msg.payload.hostname;\nreturn msg;","outputs":1,"noerr":0,"x":921,"y":652,"wires":[["813ae4b.05c0598"]]},{"id":"813ae4b.05c0598","type":"ui_text","z":"51790cbc.40d12c","group":"56329cc.047c7e4","order":1,"width":"0","height":"0","name":"","label":"Hostname","format":"{{msg.payload}}","layout":"row-spread","x":1089,"y":654,"wires":[]},{"id":"f4763abf.8cb18","type":"function","z":"51790cbc.40d12c","name":"","func":"msg.payload = msg.payload.platform;\nreturn msg;","outputs":1,"noerr":0,"x":923,"y":690,"wires":[["deb09153.6bed28"]]},{"id":"deb09153.6bed28","type":"ui_text","z":"51790cbc.40d12c","group":"56329cc.047c7e4","order":1,"width":"0","height":"0","name":"","label":"Platform","format":"{{msg.payload}}","layout":"row-spread","x":1085,"y":693,"wires":[]},{"id":"cd57bfe5.65992","type":"function","z":"51790cbc.40d12c","name":"","func":"msg.payload = msg.payload.arch;\nreturn msg;","outputs":1,"noerr":0,"x":924,"y":729,"wires":[["4a90764e.16b9"]]},{"id":"4a90764e.16b9","type":"ui_text","z":"51790cbc.40d12c","group":"56329cc.047c7e4","order":1,"width":"0","height":"0","name":"","label":"Arch","format":"{{msg.payload}}","layout":"row-spread","x":1073,"y":733,"wires":[]},{"id":"294ace08.867382","type":"function","z":"51790cbc.40d12c","name":"","func":"msg.payload = msg.payload.release;\nreturn msg;","outputs":1,"noerr":0,"x":925,"y":765,"wires":[["94523c4.a7e5c4"]]},{"id":"94523c4.a7e5c4","type":"ui_text","z":"51790cbc.40d12c","group":"56329cc.047c7e4","order":1,"width":"0","height":"0","name":"","label":"Release","format":"{{msg.payload}}","layout":"row-spread","x":1085,"y":771,"wires":[]},{"id":"ec2219ac.163db8","type":"function","z":"51790cbc.40d12c","name":"","func":"msg.payload = msg.payload.cpus[0].model;\nreturn msg;","outputs":1,"noerr":0,"x":430,"y":920,"wires":[["c158cb18.d3bd5"]]},{"id":"c158cb18.d3bd5","type":"ui_text","z":"51790cbc.40d12c","group":"56329cc.047c7e4","order":1,"width":"0","height":"0","name":"","label":"CPU 1","format":"{{msg.payload}}","layout":"row-spread","x":570,"y":920,"wires":[]},{"id":"5a15f637.fe91a8","type":"function","z":"51790cbc.40d12c","name":"","func":"msg.payload = msg.payload.loadavg[0];\nreturn msg;","outputs":1,"noerr":0,"x":338,"y":229,"wires":[["2ee1a530.021d42"]]},{"id":"2ee1a530.021d42","type":"ui_chart","z":"51790cbc.40d12c","name":"CPU Load - Historical","group":"396b7d79.834f92","order":0,"width":"0","height":"0","label":"24 Hours","chartType":"line","legend":"false","xformat":"%H:%M:%S","interpolate":"linear","nodata":"","ymin":"","ymax":"","removeOlder":1,"removeOlderUnit":"86400","outputs":2,"x":530,"y":229,"wires":[[],[]]},{"id":"379f5c7f.1e2964","type":"function","z":"51790cbc.40d12c","name":"","func":"msg.payload = msg.payload.memusage;\nreturn msg;","outputs":1,"noerr":0,"x":822,"y":389,"wires":[["8189b1a7.25d3e"]]},{"id":"8189b1a7.25d3e","type":"ui_chart","z":"51790cbc.40d12c","name":"Memory - 24 Hours","group":"8378d78.5c46728","order":0,"width":"0","height":"0","label":"24 Hours","chartType":"line","legend":"false","xformat":"%H:%M:%S","interpolate":"linear","nodata":"","ymin":"","ymax":"","removeOlder":1,"removeOlderUnit":"86400","outputs":1,"x":1020,"y":392,"wires":[[]]},{"id":"7748923.44ca3ec","type":"comment","z":"51790cbc.40d12c","name":"CPU Load","info":"","x":488,"y":57,"wires":[]},{"id":"a0ddd1aa.eeb3e","type":"comment","z":"51790cbc.40d12c","name":"Memory Usage","info":"","x":1005,"y":342,"wires":[]},{"id":"a4084b2.5cd3a38","type":"comment","z":"51790cbc.40d12c","name":"System Information","info":"","x":790,"y":560,"wires":[]},{"id":"e07d5271.23d1c8","type":"OS","z":"e9cabb74.fe91","name":"","x":470,"y":1920,"wires":[["643b3a0e.bb7c0c"]]},{"id":"643b3a0e.bb7c0c","type":"function","z":"e9cabb74.fe91","name":"hostname","func":"msg.payload = msg.payload.hostname;\nmsg.topic = \"host\";\nreturn msg;","outputs":1,"noerr":0,"x":660,"y":1920,"wires":[["a1e88745.b1207"]]},{"id":"a1e88745.b1207","type":"join","z":"e9cabb74.fe91","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":850,"y":1900,"wires":[["58366c4d.df29ec"]]},{"id":"4f2a785d.585238","type":"NetworkIntf","z":"e9cabb74.fe91","name":"","x":490,"y":1880,"wires":[["c833df11.d3bff8"]]},{"id":"58366c4d.df29ec","type":"template","z":"e9cabb74.fe91","name":"Corpo Message","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!DOCTYPE html>\n<html>\n<body>\n\n<h1>OL Connect Server ({{payload.host}})</h1>\n    <p>\n    IP Address : {{payload.interface}} !\n    </p>\n</body>\n</html>","output":"str","x":1020,"y":1900,"wires":[["29708e21.496f12"]]},{"id":"9c8e0791.7a0e38","type":"ping","z":"51790cbc.40d12c","name":"google","host":"8.8.8.8","timer":"60","x":350,"y":1060,"wires":[["3f33b54e.8662ca"]]},{"id":"3f33b54e.8662ca","type":"ui_chart","z":"51790cbc.40d12c","name":"","group":"24ff660a.29feda","order":0,"width":0,"height":0,"label":"Ping time","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":520,"y":1060,"wires":[[]]}]